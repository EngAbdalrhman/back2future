<p-table [value]="userData" [tableStyle]="{ 'min-width': '50rem' }">
  <ng-template pTemplate="caption">
    <div class="flex align-items-center justify-content-between">
      User Data
      <span class="flex align-items-center justify-content-between">
        <p-button
          [disabled]="isLoading"
          [icon]="isLoading ? 'pi pi-refresh pi-spin' : 'pi pi-refresh'"
          (click)="refresh()"
        />
        <p-button icon="pi pi-user-plus" (click)="showDialog()" />
      </span>
    </div>
  </ng-template>
  <ng-template pTemplate="header">
    <tr>
      <th>Code</th>
      <th>Full Name</th>
      <th>Username</th>
      <th>Password</th>
      <th>Email</th>
    </tr>
  </ng-template>
  <!-- as *ngfor -->
  <ng-template pTemplate="body" let-row>
    <!-- @IF("!isLoading") -->
    <tr *ngIf="!isLoading">
      <td>{{ row.id }}</td>
      <td>{{ row.fullName }}</td>
      <td>{{ row.userName }}</td>
      <td>{{ row.password }}</td>
      <td>{{ row.email }}</td>
    </tr>
    <tr *ngIf="isLoading">
      <td><p-skeleton /></td>
      <td><p-skeleton /></td>
      <td><p-skeleton /></td>
      <td><p-skeleton /></td>
      <td><p-skeleton /></td>
    </tr>
  </ng-template>
</p-table>

<p-dialog
  header="Add New User"
  [resizable]="false"
  [modal]="true"
  [maximizable]="true"
  appendTo="body"
  [(visible)]="dialogVisible"
  [style]="{ width: '75vw' }"
  [contentStyle]="{ height: '480px' }"
>
  <form #frm>
    <label for="username" class="block text-900 font-medium mb-2"
      >User Name</label
    >
    <input
      required
      id="username"
      name="username"
      [ngModelOptions]="{ standalone: true }"
      type="text"
      [(ngModel)]="username"
      placeholder="User Name"
      pInputText
      class="w-full mb-3"
    />

    <label for="password1" class="block text-900 font-medium mb-2"
      >Password</label
    >
    <input
      [ngModelOptions]="{ standalone: true }"
      required
      id="password1"
      type="password"
      name="password1"
      placeholder="Password"
      pInputText
      class="w-full mb-3"
      [(ngModel)]="password"
    />
    <label for="fullname" class="block text-900 font-medium mb-2">Name</label>
    <input
      required
      id="fullname"
      name="fullname"
      [ngModelOptions]="{ standalone: true }"
      type="text"
      [(ngModel)]="fullname"
      placeholder="Name"
      pInputText
      class="w-full mb-3"
    />

    <label for="email" class="block text-900 font-medium mb-2">Email</label>
    <input
      [ngModelOptions]="{ standalone: true }"
      required
      id="email"
      type="email"
      name="email"
      placeholder="Email"
      pInputText
      class="w-full mb-3"
      [(ngModel)]="email"
    />
    <button
      [disabled]="!frm.checkValidity()"
      pButton
      pRipple
      label="Sign Up"
      class="w-full"
      (click)="addUser()"
    ></button>
  </form>
</p-dialog>
